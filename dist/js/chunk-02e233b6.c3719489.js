(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02e233b6"],{"11c8":function(e,a,t){},"219c":function(e,a,t){"use strict";var n=t("11c8"),r=t.n(n);r.a},"55dc":function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("van-field",{attrs:{"label-width":"110",label:"总包名称",placeholder:"请输入总包名称"},model:{value:e.formData.projectName,callback:function(a){e.$set(e.formData,"projectName",a)},expression:"formData.projectName"}}),t("van-field",{attrs:{"label-width":"110",type:"textarea",autosize:{minHeight:70},label:"项目概况",placeholder:"请输入项目概况"},model:{value:e.formData.projectInfo,callback:function(a){e.$set(e.formData,"projectInfo",a)},expression:"formData.projectInfo"}}),t("van-field",{attrs:{"label-width":"110",type:"number",label:"合同造价",placeholder:"请输入合同造价"},model:{value:e.formData.contractPrice,callback:function(a){e.$set(e.formData,"contractPrice",a)},expression:"formData.contractPrice"}}),t("van-cell",{attrs:{title:"开工日期",value:e.formData.openDate,"is-link":""},on:{click:function(a){e.showFlag=!0,e.currentIndex=1}}}),t("van-cell",{attrs:{title:"竣工日期",value:e.formData.endDate,"is-link":""},on:{click:function(a){e.showFlag=!0,e.currentIndex=2}}}),t("van-cell",{attrs:{title:"签约日期",value:e.formData.contractDate,"is-link":""},on:{click:function(a){e.showFlag=!0,e.currentIndex=3}}}),t("van-field",{attrs:{"label-width":"110",label:"姓名",placeholder:"请输入签约人姓名"},model:{value:e.formData.name,callback:function(a){e.$set(e.formData,"name",a)},expression:"formData.name"}}),t("van-field",{attrs:{"label-width":"110",type:"tel",label:"联系方式",placeholder:"请输入签约人联系方式"},model:{value:e.formData.mobile,callback:function(a){e.$set(e.formData,"mobile",a)},expression:"formData.mobile"}}),t("div",{staticClass:"open-ccb-box"},[t("div",{staticClass:"open-ccb",on:{click:e.submitForm}},[e._v("提交")])]),t("van-calendar",{attrs:{title:e.calendarTitle},on:{confirm:e.onConfirm},model:{value:e.showFlag,callback:function(a){e.showFlag=a},expression:"showFlag"}})],1)},r=[],o=(t("96cf"),t("1da1")),c=t("2b0e"),l=t("a37c"),i=t("565f"),s=t("7744"),u=t("473d");c["a"].use(l["a"]).use(i["a"]).use(s["a"]).use(u["a"]);var f={data:function(){return{formData:{projectName:"",projectInfo:"",contractPrice:"",openDate:"",endDate:"",contractDate:"",name:"",mobile:""},showFlag:!1,calendarTitle:"",currentIndex:0,loading:!1}},methods:{onConfirm:function(e){var a=this.fermitTime(e);switch(this.currentIndex){case 1:this.formData.openDate=a;break;case 2:this.formData.endDate=a;break;case 3:this.formData.contractDate=a;break;default:break}this.showFlag=!1},fermitTime:function(e){var a=new Date(e),t=a.getFullYear(),n=a.getMonth()+1,r=a.getDate();n<10&&(n="0"+n),r<10&&(r="0"+r);var o=t+"-"+n+"-"+r;return o},submitForm:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e.loading){a.next=3;break}return e.$toast.loading({forbidClick:!0}),a.abrupt("return",!1);case 3:return e.loading=!0,a.next=6,e.$http.post("v1.home/signContract",e.formData);case 6:t=a.sent,e.loading=!1,e.$dialog.alert({message:t.msg}).then((function(a){1===t.code&&(e.resetFormData(),e.$router.go(-1))}));case 9:case"end":return a.stop()}}),a)})))()},resetFormData:function(){this.formData={projectName:"",projectInfo:"",contractPrice:"",openDate:"",endDate:"",contractDate:"",name:"",mobile:""}}},created:function(){},mounted:function(){this.loading=!1},component:{NoticeBar:l["a"],Field:i["a"],Cell:s["a"],Calendar:u["a"]},watch:{currentIndex:function(e,a){switch(e){case 1:this.calendarTitle="选择开工日期";break;case 2:this.calendarTitle="选择竣工日期";break;case 3:this.calendarTitle="选择签约日期";break;default:this.calendarTitle="";break}}}},m=f,d=(t("219c"),t("2877")),h=Object(d["a"])(m,n,r,!1,null,null,null);a["default"]=h.exports}}]);
//# sourceMappingURL=chunk-02e233b6.c3719489.js.map