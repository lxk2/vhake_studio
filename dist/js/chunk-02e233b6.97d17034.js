(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02e233b6"],{"11c8":function(a,e,t){},"219c":function(a,e,t){"use strict";var n=t("11c8"),o=t.n(n);o.a},"55dc":function(a,e,t){"use strict";t.r(e);var n=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("van-notice-bar",{attrs:{wrapable:"",scrollable:!1,mode:"closeable"}},[a._v(" 请录入合同甲方单位名称，项目名称，合同金额等相关信息提交即可 "),t("br"),a._v(" 提交资料，请添加客服QQ：2971480585 "),t("br"),a._v(" 如有任何操作问题可随时联系拨打客服电话或联系您的业务经办人，期待您的体验及建议，晋拓将一如既往地提供优质高效专业的服务！ ")]),t("van-field",{attrs:{"label-width":"110",label:"总包名称",placeholder:"请输入总包名称"},model:{value:a.formData.projectName,callback:function(e){a.$set(a.formData,"projectName",e)},expression:"formData.projectName"}}),t("van-field",{attrs:{"label-width":"110",type:"textarea",autosize:{minHeight:70},label:"项目概况",placeholder:"请输入项目概况"},model:{value:a.formData.projectInfo,callback:function(e){a.$set(a.formData,"projectInfo",e)},expression:"formData.projectInfo"}}),t("van-field",{attrs:{"label-width":"110",type:"number",label:"合同造价",placeholder:"请输入合同造价"},model:{value:a.formData.contractPrice,callback:function(e){a.$set(a.formData,"contractPrice",e)},expression:"formData.contractPrice"}},[t("span",{attrs:{slot:"button"},slot:"button"},[a._v("元")])]),t("van-cell",{attrs:{title:"开工日期",value:a.formData.openDate,"is-link":""},on:{click:function(e){a.showFlag1=!0,a.currentIndex=1}}}),t("van-cell",{attrs:{title:"竣工日期",value:a.formData.endDate,"is-link":""},on:{click:function(e){a.showFlag=!0,a.currentIndex=2}}}),t("van-cell",{attrs:{title:"签约日期",value:a.formData.contractDate,"is-link":""},on:{click:function(e){a.showFlag=!0,a.currentIndex=3}}}),t("van-field",{attrs:{"label-width":"110",label:"跟进业务员姓名",placeholder:"请输入跟进业务员姓名"},model:{value:a.formData.followUpName,callback:function(e){a.$set(a.formData,"followUpName",e)},expression:"formData.followUpName"}}),t("van-field",{attrs:{"label-width":"110",label:"姓名",placeholder:"请输入签约人姓名"},model:{value:a.formData.name,callback:function(e){a.$set(a.formData,"name",e)},expression:"formData.name"}}),t("van-field",{attrs:{"label-width":"110",type:"tel",label:"联系方式",placeholder:"请输入签约人联系方式"},model:{value:a.formData.mobile,callback:function(e){a.$set(a.formData,"mobile",e)},expression:"formData.mobile"}}),t("div",{staticClass:"open-ccb-box"},[t("div",{staticClass:"open-ccb",on:{click:a.submitForm}},[a._v("提交")])]),t("van-calendar",{attrs:{title:a.calendarTitle,"min-date":a.minDate,"max-date":a.maxDate,"default-date":new Date},on:{confirm:a.onConfirm},model:{value:a.showFlag1,callback:function(e){a.showFlag1=e},expression:"showFlag1"}}),t("van-calendar",{attrs:{title:a.calendarTitle,"default-date":new Date,"max-date":a.maxDate},on:{confirm:a.onConfirm},model:{value:a.showFlag,callback:function(e){a.showFlag=e},expression:"showFlag"}})],1)},o=[],l=(t("96cf"),t("1da1")),r=t("2b0e"),c=t("a37c"),i=t("565f"),s=t("7744"),m=t("473d");r["a"].use(c["a"]).use(i["a"]).use(s["a"]).use(m["a"]);var f={data:function(){return{formData:{projectName:"",projectInfo:"",contractPrice:"",openDate:"",endDate:"",contractDate:"",followUpName:"",name:"",mobile:""},showFlag:!1,calendarTitle:"",currentIndex:0,loading:!1,minDate:"",maxDate:"",showFlag1:!1}},methods:{onConfirm:function(a){var e=this.fermitTime(a);switch(this.currentIndex){case 1:this.formData.openDate=e;break;case 2:this.formData.endDate=e;break;case 3:this.formData.contractDate=e;break;default:break}this.showFlag=!1},fermitTime:function(a){var e=new Date(a),t=e.getFullYear(),n=e.getMonth()+1,o=e.getDate();n<10&&(n="0"+n),o<10&&(o="0"+o);var l=t+"-"+n+"-"+o;return l},submitForm:function(){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.loading){e.next=3;break}return a.$toast.loading({forbidClick:!0}),e.abrupt("return",!1);case 3:return a.loading=!0,e.next=6,a.$http.post("v1.home/signContract",a.formData);case 6:t=e.sent,a.loading=!1,a.$dialog.alert({message:t.msg}).then((function(e){1===t.code&&a.resetFormData()}));case 9:case"end":return e.stop()}}),e)})))()},resetFormData:function(){this.formData={projectName:"",projectInfo:"",contractPrice:"",openDate:"",endDate:"",contractDate:"",followUpName:"",name:"",mobile:""}},getDate:function(){var a=new Date,e=a.getFullYear(),t=a.getMonth();0===t&&(t=12,e-=1),t<10&&(t="0"+t),console.log(e,t-1,1),this.minDate=new Date(e-10,t-1,1),this.maxDate=new Date(e+10,11,31)}},created:function(){this.getDate()},mounted:function(){this.loading=!1},component:{NoticeBar:c["a"],Field:i["a"],Cell:s["a"],Calendar:m["a"]},watch:{currentIndex:function(a,e){switch(a){case 1:this.calendarTitle="选择开工日期";break;case 2:this.calendarTitle="选择竣工日期";break;case 3:this.calendarTitle="选择签约日期";break;default:this.calendarTitle="";break}}}},u=f,d=(t("219c"),t("2877")),D=Object(d["a"])(u,n,o,!1,null,null,null);e["default"]=D.exports}}]);
//# sourceMappingURL=chunk-02e233b6.97d17034.js.map